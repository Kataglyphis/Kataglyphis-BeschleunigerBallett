name: Linux build + test + coverage on Ubuntu 24.04 ARM

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main, develop]

jobs:
  build-arm:
    if: contains(github.event.head_commit.message, '[build-arm]')
    uses: ./.github/workflows/Linux.yml
    with:
      runner: ubuntu-24.04-arm
    secrets:
      SERVER: ${{ secrets.SERVER }}
      USERNAME: ${{ secrets.USERNAME }}
      PW: ${{ secrets.PW }}
      CODECOV_TOKEN: ${{ secrets.CODECOV_TOKEN }}
      GHCR_PAT: ${{ secrets.GHCR_PAT }}
